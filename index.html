<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>AppiumTestDistribution by saikrishna321</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>AppiumTestDistribution</h1>
        <h2>A tool for running Android and iOS appium tests in parallel across devices</h2>

        <section id="downloads">
          <a href="https://github.com/saikrishna321/AppiumTestDistribution/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/saikrishna321/AppiumTestDistribution/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/saikrishna321/AppiumTestDistribution" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>
<a id="appium-parallel-execution-for-android-and-ios-on-real-devices" class="anchor" href="#appium-parallel-execution-for-android-and-ios-on-real-devices" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Appium Parallel Execution for Android and iOS on Real Devices</h1>

<p><a href="https://gitter.im/saikrishna321/AppiumTestDistribution?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://badges.gitter.im/saikrishna321/AppiumTestDistribution.svg" alt="Join the chat at https://gitter.im/saikrishna321/AppiumTestDistribution"></a></p>

<h2>
<a id="run-appium-android-and-ios-test-in-parallel-across-devices-connected" class="anchor" href="#run-appium-android-and-ios-test-in-parallel-across-devices-connected" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Run Appium Android and iOS test in parallel across devices connected</h2>

<p><img src="https://raw.githubusercontent.com/saikrishna321/AppiumTestDistribution/master/image/conect1-anim.gif" alt="alt tag"></p>

<p>Add the below dependencies in your pom.xml</p>

<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;com.github.saikrishna321&lt;/groupId&gt;
    &lt;artifactId&gt;AppiumTestDistribution&lt;/artifactId&gt;
    &lt;version&gt;4.0.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>

<pre><code>&lt;repositories&gt;
        &lt;repository&gt;
            &lt;id&gt;jitpack.io&lt;/id&gt;
            &lt;url&gt;https://jitpack.io&lt;/url&gt;
        &lt;/repository&gt;
    &lt;/repositories&gt;
</code></pre>

<h2>
<a id="prerequisites" class="anchor" href="#prerequisites" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Prerequisites</h2>

<ol>
<li>Make sure Appium(1.4.16) is installed through node and if using the latest appium v1.5 make sure you have it build from the source.</li>
<li>Make sure adb sdk is set under ANDROID_HOME.</li>
<li>Install JDK 1.8 and set under path JAVA_HOME to get this framework working.</li>
</ol>

<h2>
<a id="sample-tests" class="anchor" href="#sample-tests" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Sample Tests</h2>

<p>Clone the project (<a href="https://github.com/saikrishna321/PageObjectPatternAppium">https://github.com/saikrishna321/PageObjectPatternAppium</a>)</p>

<h1>
<a id="configure-tests" class="anchor" href="#configure-tests" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configure tests</h1>

<p>Main Runnerclass should look as below :: </p>

<pre><code>public class Runner {

    @Test
    public void testApp() throws Exception {
        ParallelThread parallelThread = new ParallelThread();
        parallelThread.runner("com.paralle.tests");

    }
}

</code></pre>

<ol>
<li>Extend your tests to AppiumParallelTest which is part of the dependencies, which takes care of running the appium server session in parallel threads.</li>
</ol>

<pre><code>public class UserBaseTest extends AppiumParallelTest {

    @BeforeMethod()
    public void startApp(Method name) throws Exception {
        driver = startAppiumServerInParallel(name.getName());
            startLogResults(name.getName());
    }

    @AfterMethod()
    public void killServer(ITestResult result) {
        endLogTestResults(result);
        getDriver().quit();
    }

    public AppiumDriver&lt;MobileElement&gt; getDriver() {
        return driver;
    }

    @BeforeClass()
    public void beforeClass() throws Exception {
         startAppiumServer(getClass().getSimpleName());
    }

    @AfterClass()
    public void afterClass() throws InterruptedException, IOException {
        killAppiumServer();
    }
}

</code></pre>

<h3>
<a id="run-test-from-commandline" class="anchor" href="#run-test-from-commandline" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Run Test from CommandLine</h3>

<pre><code>mvn clean -Dtest=Runner test

</code></pre>

<p>2.Create a config.properties under your test directory, which hold the below properties</p>

<p>For android tests</p>

<pre><code>APP_PATH=/Users/saikrisv/Documents/workspace/TestNGParallel/build/AndroidCalculator.apk
APP_PACKAGE=com.android2.calculator3
APP_ACTIVITY=com.android2.calculator3.Calculator
RUNNER=distribute
APPIUM_JS_PATH=/usr/local/lib/node_modules/appium/bin/appium.js
BROWSER_TYPE=chrome
APP_TYPE=androidnative
PLATFORM=android

</code></pre>

<p>For iOS test</p>

<pre><code>RUNNER=parallel
APPIUM_JS_PATH=/Users/saikrisv/git/appium_master/appium/build/lib/main.js
APP_TYPE=iosnative
PLATFORM=ios
BUNDLE_ID=com.***.ios
APP_PATH=ipaFilePath
</code></pre>

<p>Note: </p>

<ul>
<li>Provide the absolute path of the apk file.</li>
<li>APPIUM_JS_PATH should be the location of the appium.js in yout location machine.If your using the latest Appium v1.5 please make sure
you have the source build locally. Refer the Bug(<a href="https://github.com/appium/appium/issues/6202">https://github.com/appium/appium/issues/6202</a>)</li>
<li>RUNNER option can be parallel/distribute(Parallel will run  all the tests across device- which helps you to get the device coverage/ Distribute will distribute all the tests across devices which helps you faster execution)</li>
<li>APP_TYPE should be set to "androidnative/iosnative" to run native/hybrid tests and "web" to run webtests in chrome.</li>
<li>Make sure you have chrome browser installed on android real devices, if not please download from playstore.</li>
<li>Make sure you don't use <code>getDriver().resetApp()</code> when your running your webtests.</li>
</ul>

<h2>
<a id="credits" class="anchor" href="#credits" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Credits</h2>

<p>Thanks to
<a href="https://github.com/SrinivasanTarget">@SrinivasanTarget</a> <a href="https://github.com/thote">@thote</a> and <a href="https://github.com/jaydeepc">@jaydeepc</a></p>

<h3>
<a id="reports" class="anchor" href="#reports" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Reports</h3>

<p>Your should see report file generated as ExtentReport.html under the target folder.</p>

<h3>
<a id="testrunning-in-distributed-way" class="anchor" href="#testrunning-in-distributed-way" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>TestRunning in Distributed Way</h3>

<p><a href="https://www.youtube.com/watch?v=KfMoJ6dSC3g"><img src="http://s29.postimg.org/uln15acdz/Screen_Shot_2016_01_10_at_12_02_10_pm.png" alt="ScreenShot"></a></p>

<h2>
<a id="wip" class="anchor" href="#wip" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>WIP</h2>

<p>iOS WebTest using Safari</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p><img src="http://www.gnu.org/graphics/gplv3-127x51.png" alt="GNU Public License version 3.0">
AppiumTestDistribution is released under <a href="http://www.gnu.org/licenses/gpl-3.0.txt">GNU Public License version 3.0</a></p>
      </section>
    </div>

    
  </body>
</html>
