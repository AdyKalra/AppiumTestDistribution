<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>AppiumTestDistribution by saikrishna321</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">AppiumTestDistribution</h1>
      <h2 class="project-tagline">A tool for running android appium tests in parallel across devices</h2>
      <a href="https://github.com/saikrishna321/AppiumTestDistribution" class="btn">View on GitHub</a>
      <a href="https://github.com/saikrishna321/AppiumTestDistribution/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/saikrishna321/AppiumTestDistribution/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="appium-parallel-execution-for-android" class="anchor" href="#appium-parallel-execution-for-android" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Appium Parallel Execution for Android</h1>

<p><a href="https://gitter.im/saikrishna321/AppiumTestDistribution?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://badges.gitter.im/saikrishna321/AppiumTestDistribution.svg" alt="Join the chat at https://gitter.im/saikrishna321/AppiumTestDistribution"></a></p>

<h2>
<a id="run-appium-android-test-in-parallel-across-devices-connected" class="anchor" href="#run-appium-android-test-in-parallel-across-devices-connected" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Run Appium Android test in parallel across devices connected</h2>

<p><img src="https://raw.githubusercontent.com/saikrishna321/AppiumTestDistribution/master/image/conect1-anim.gif" alt="alt tag"></p>

<p>Add the below dependencies in your pom.xml</p>

<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;com.github.saikrishna321&lt;/groupId&gt;
    &lt;artifactId&gt;AppiumTestDistribution&lt;/artifactId&gt;
    &lt;version&gt;3.0.3&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>

<pre><code>&lt;repositories&gt;
        &lt;repository&gt;
            &lt;id&gt;jitpack.io&lt;/id&gt;
            &lt;url&gt;https://jitpack.io&lt;/url&gt;
        &lt;/repository&gt;
    &lt;/repositories&gt;
</code></pre>

<h2>
<a id="prerequisites" class="anchor" href="#prerequisites" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Prerequisites</h2>

<ol>
<li>Make sure Appium(1.4.16) is installed through node.</li>
<li>Make sure adb sdk is set under ANDROID_HOME.</li>
<li>Install JDK 1.8 and set under path JAVA_HOME to get this framework working.</li>
</ol>

<h2>
<a id="sample-tests" class="anchor" href="#sample-tests" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Sample Tests</h2>

<p>Clone the project (<a href="https://github.com/saikrishna321/PageObjectPatternAppium">https://github.com/saikrishna321/PageObjectPatternAppium</a>)</p>

<h1>
<a id="configure-tests" class="anchor" href="#configure-tests" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configure tests</h1>

<p>Main Runnerclass should look as below :: </p>

<pre><code>public class Runner {

    @Test
    public void testApp() throws Exception {
        ParallelThread parallelThread = new ParallelThread();
        parallelThread.runner("com.paralle.tests");

    }
}

</code></pre>

<ol>
<li>Extend your tests to AppiumParallelTest which is part of the dependencies, which takes care of running the appium server session in parallel threads.</li>
</ol>

<pre><code>public class UserBaseTest extends AppiumParallelTest {

    @BeforeMethod()
    public void startApp(Method name) throws Exception {
        startLogResults(name.getName());
    }

    @AfterMethod()
    public void killServer(ITestResult result) {
        endLogTestResults(result);
        getDriver().resetApp();
    }

    public AppiumDriver&lt;MobileElement&gt; getDriver() {
        return driver;
    }

    @BeforeClass()
    public void beforeClass() throws Exception {
        driver = startAppiumServerInParallel(getClass().getSimpleName());
    }

    @AfterClass()
    public void afterClass() throws InterruptedException, IOException {
        System.out.println("After Class" + Thread.currentThread().getId());
        killAppiumServer();
    }
}

</code></pre>

<h3>
<a id="run-test-from-commandline" class="anchor" href="#run-test-from-commandline" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Run Test from CommandLine</h3>

<pre><code>mvn clean -Dtest=Runner test

</code></pre>

<p>2.Create a config.properties under your test directory, which hold the below properties </p>

<pre><code>APP_PATH=/Users/saikrisv/Documents/workspace/TestNGParallel/build/AndroidCalculator.apk
APP_PACKAGE=com.android2.calculator3
APP_ACTIVITY=com.android2.calculator3.Calculator
RUNNER=distribute
APPIUM_JS_PATH=/usr/local/lib/node_modules/appium/bin/appium.js
BROWSER_TYPE=chrome
APP_TYPE=native

</code></pre>

<p>Note: </p>

<ul>
<li>Provide the absolute path of the apk file.</li>
<li>APPIUM_JS_PATH should be the location of the appium.js in yout location machine</li>
<li>RUNNER option can be parallel/distribute(Parallel will run  all the tests across device- which helps you to get the device coverage/ Distribute will distribute all the tests across devices which helps you faster execution)</li>
<li>APP_TYPE should be set to "native" to run native/hybrid tests and "web" to run webtests in chrome.</li>
<li>Make sure you have chrome browser installed on real devices, if not please download from playstore.</li>
<li>Make sure you don't use <code>getDriver().resetApp()</code> when your running your webtests.</li>
</ul>

<h3>
<a id="reports" class="anchor" href="#reports" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Reports</h3>

<p>Your should see report file generated as ExtentReport.html</p>

<p><img src="https://raw.githubusercontent.com/saikrishna321/AppiumTestDistribution/master/image/report1.jpg" alt="alt tag"></p>

<p><img src="https://raw.githubusercontent.com/saikrishna321/AppiumTestDistribution/master/image/report2.jpg" alt="alt tag"></p>

<p><img src="https://raw.githubusercontent.com/saikrishna321/AppiumTestDistribution/master/image/report3.jpg" alt="alt tag"></p>

<h3>
<a id="testrunning-in-distributed-way" class="anchor" href="#testrunning-in-distributed-way" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>TestRunning in Distributed Way</h3>

<p><img src="http://s29.postimg.org/uln15acdz/Screen_Shot_2016_01_10_at_12_02_10_pm.png" alt="TestRunning in Parallel">
(<a href="https://www.youtube.com/watch?v=KfMoJ6dSC3g">https://www.youtube.com/watch?v=KfMoJ6dSC3g</a>)</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p><img src="http://www.gnu.org/graphics/gplv3-127x51.png" alt="GNU Public License version 3.0">
AppiumTestDistribution is released under <a href="http://www.gnu.org/licenses/gpl-3.0.txt">GNU Public License version 3.0</a></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/saikrishna321/AppiumTestDistribution">AppiumTestDistribution</a> is maintained by <a href="https://github.com/saikrishna321">saikrishna321</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
